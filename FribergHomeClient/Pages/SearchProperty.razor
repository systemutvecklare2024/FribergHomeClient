@page "/searchproperty"
@page "/searchproperty/{muncipalityId:int?}"
@using FribergHomeClient.Components

@* Author: Glate *@

<PageTitle>Sök Bostad</PageTitle>

@if (!MuncipalityId.HasValue)
{
	<SearchBar OnSearchMuncipality="HandleSearch"></SearchBar>
	<ListPropertyCards InitialHeader="Alla listningar"></ListPropertyCards>
}
else
{
	<SearchBar OnSearchMuncipality="HandleSearch"></SearchBar>
	<ListPropertyCards MuncipalityId="MuncipalityId"></ListPropertyCards>
}

@code {
	[Parameter]
	public int? MuncipalityId { get; set; }

	private async Task HandleSearch(int muncipalityId)
	{
			MuncipalityId = muncipalityId;
			StateHasChanged();
	}
}
