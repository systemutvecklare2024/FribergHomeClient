@inject NavigationManager NavManager
@using FribergHomeClient.Data.Dto


<style>
	.no-decoration {
		text-decoration: none;
	}

	.RadzenCard {
		height: calc(100vh - 100px); /* Adjust based on headers/margins */
	}

	.radzen-text-overflow {
		display: -webkit-box;
		-webkit-line-clamp: 3; /* Number of lines before ellipsis appears */
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
	}
</style>

<RadzenCard class="rz-my-12 rz-mx-auto p-0 m-1" Style="max-width: 60em; height: 35vh">
	<RadzenRow class="rz-text-align-center rz-border-info-light m-0 p-0" Style="width: 100%; height: 100%;" Gap="0">
		<!-- Image -->
		<RadzenColumn class="rz-color-on-info-light" Style="width: 50%; display: flex; flex-grow: 1;">
			<RadzenCarousel Auto="false"
							AllowNavigation="@true"
							Style="width: 100%; max-height: 35vh; object-fit: cover; border-radius: 0;" class="rz-mx-auto"
							ButtonStyle="ButtonStyle.Base"
							ButtonSize="ButtonSize.Small"
							ButtonShade="Shade.Lighter"
							ButtonVariant="Variant.Text">
				<Items>
					@foreach (var i in Property.ImageUrls)
					{
						<RadzenCarouselItem>
							<RadzenImage Path="@i.ImgURL" class="rz-h-100" Style="width: 100%;" />
						</RadzenCarouselItem>
					}
				</Items>
			</RadzenCarousel>
		</RadzenColumn>

		<!-- Property info -->
		<RadzenColumn class="rz-background-color-info-lighter rz-color-on-info-lighter" Style="width: 50%; height: 100%;">
			<RadzenCard class="rz-background-color-primary-light rz-shadow-0 rz-border-radius-0 rz-p-8" Style="width: 100%; height: 100%; overflow: scroll; overflow-x: hidden;">
				<RadzenText TextStyle="TextStyle.H6" class="rz-color-on-primary-light"><strong>Property Details</strong></RadzenText>
				<RadzenRow Gap="10">
					<RadzenColumn SizeSM="4">
						<RadzenText TextStyle="TextStyle.Overline" TextAlign="TextAlign.Start" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Address</RadzenText>
						<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="rz-color-on-primary-light"><b>@(Property.Street)</b></RadzenText>
						<RadzenText TextStyle="TextStyle.Overline" TextAlign="TextAlign.Start" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">City</RadzenText>
						<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="rz-color-on-primary-light"><b>@(Property.City)</b></RadzenText>
					</RadzenColumn>
					<RadzenColumn SizeSM="4">
						<RadzenText TextStyle="TextStyle.Overline" TextAlign="TextAlign.Start" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Ship name</RadzenText>
						<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="rz-color-on-primary-light"><b>@(Property.YearBuilt)</b></RadzenText>
						<RadzenText TextStyle="TextStyle.Overline" TextAlign="TextAlign.Start" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Freight</RadzenText>
						<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="rz-color-on-primary-light"><b>@String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", Property.City)</b></RadzenText>
					</RadzenColumn>

					<RadzenColumn SizeSM="4">
						<RadzenText TextStyle="TextStyle.Overline" TextAlign="TextAlign.Start" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Ship name</RadzenText>
						<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="rz-color-on-primary-light"><b>@(Property.YearBuilt)</b></RadzenText>
						<RadzenText TextStyle="TextStyle.Overline" TextAlign="TextAlign.Start" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Freight</RadzenText>
						<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="rz-color-on-primary-light"><b>@String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}", Property.City)</b></RadzenText>
					</RadzenColumn>



				</RadzenRow>
@* 					Maybe implement Description as well? *@
				<RadzenRow Style="height: 5em; overflow: hidden; margin-bottom: 2em;">
					<RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Start" class="radzen-text-overflow">
						@Property.Description
					</RadzenText>
				</RadzenRow>
			</RadzenCard>
		</RadzenColumn>

	</RadzenRow>
</RadzenCard>

@code {
	[Parameter]
	public PropertyDTO Property { get; set; }

	protected override async Task OnInitializedAsync()
	{
		await base.OnInitializedAsync();

		// Property = dbContext.Orders.Include("Customer").Include("Employee").FirstOrDefault();
	}

	private void NavigateTo()
	{
		NavManager.NavigateTo("/");
	}
}
