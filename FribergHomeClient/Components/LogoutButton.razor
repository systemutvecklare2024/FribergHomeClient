@using Microsoft.JSInterop
@using System.Text.Json
@inject IAuthenticationService authService
@inject NavigationManager NavManager
@inject DialogService DialogService
@inject IJSRuntime JSRuntime

@* //Author:Emelie *@

<RadzenPanelMenuItem Shade="Shade.Light" Click=@ShowLogoutDialog Text="Logga ut" Icon="logout"/>

@code {

	async Task ShowLogoutDialog()
	{
		var result = await DialogService.OpenAsync<LogoutConfirmationDialog>(
			"Bekräftelse",
			null,
			new DialogOptions() { Width = "400px", Height = "250px" });

		if (result is bool confirmed && confirmed)
		{
			// Logga ut användaren
			await authService.Logout();
			NavManager.NavigateTo("/");
		}
	}

}
