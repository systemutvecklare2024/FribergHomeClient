@typeparam TModel

@if (Model == null)
{
    <p>Laddar...</p>
}
else
{
    <EditForm Model="Model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        @if (ChildContent != null)
        {
            @ChildContent(Model)
        }

        <div class="mt-3">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>

    </EditForm>
}
@code {
    [Parameter]
    public TModel Model { get; set; }

    [Parameter]
    public EventCallback<TModel> OnValidSubmit { get; set; }

    [Parameter]
    public RenderFragment<TModel> ChildContent { get; set; }

    private async Task HandleValidSubmit()
    {
        if (OnValidSubmit.HasDelegate)
        {
            await OnValidSubmit.InvokeAsync(Model);
        }
    }
}
